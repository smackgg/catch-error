!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("CatchError",[],e):"object"==typeof exports?exports.CatchError=e():t.CatchError=e()}(this,function(){return function(t){function e(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var r={};return e.m=t,e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t){var e=t.stack.replace(/\n/gi,"").split(/\bat\b/).slice(0,9).join("@").replace(/\?[^:]+/gi,""),r=t.toString();return e.indexOf(r)<0&&(e=r+"@"+e),e}function u(t,e){return Object.prototype.toString.call(t)==="[object "+(e||"Object")+"]"}Object.defineProperty(e,"__esModule",{value:!0});var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),c=r(1),s=function(t){return t&&t.__esModule?t:{default:t}}(c),f={method:"post",url:"/error"},l=function(){function t(){var e=this;n(this,t),this.onerror=function(t,r,n,a,i){var c=t;i&&i.stack&&(c=o(i)),u(c,"Event")&&(c+=c.type?"--"+c.type+"--"+(c.target?c.target.tagName+"::"+c.target.src:""):""),c=(""+c||"").substr(0,500);var f={msg:c,timestamp:Date.now(),userAgent:window.navigator.userAgent,targetUrl:r,line:n,col:a};(0,s.default)({method:e.config.method,url:e.config.url,data:f})}}return i(t,[{key:"init",value:function(t){this.config=a(f,t),window.onerror=this.onerror}}]),t}();e.default=l},function(t,e,r){"use strict";function n(t){var e=t.url,r=t.data,n=t.method,o=void 0===n?"post":n;return new Promise(function(t,n){var u=new XMLHttpRequest;u.onreadystatechange=function(){4===u.readyState&&(u.status>=200&&u.status<300||304===u.status?t(u.responseText,u.status,u):n(new Error("请求错误: "+u.status+" "+u.statusText)))},"get"===o&&(u.open(o,e,!0),u.send(null)),"post"===o&&(u.open(o,e,!0),u.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),u.send(JSON.stringify(r)))})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n}])});